<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <link rel="stylesheet" href="./grid.css">
    <style>
        * {
            margin: 0;
            padding: 0;
        }

        .container {
            display: flex;
            justify-content: center;
        }



        .btn {
            border: 1px solid black;
            background-color: rgb(48, 216, 202);
            margin: 10px;
        }

        .img {
            width: 100%;
        }

        .item-color-c {
            margin-bottom: 20px;
        }

        .color {
            width: 100px;
            height: 100px;
            border: 1px solid black;

        }

        .norm {
            width: 100px;
            height: 100px;
            border: 1px solid black;
        }

        .main-color {
            width: 50px;
            height: 50px;
            border-radius: 100%;
            margin-left: auto;
            margin-right: auto;

        }

        .color {
            padding-top: 18px;
        }

        .norm {
            padding-top: 18px;
        }

        .total {
            font-size: 40px;
            color: red;
        }

        @media screen and (min-width:768px) {
            .main {
                display: flex;
                justify-content: center;
                align-items: center;

            }

            .img {
                width: 500px;
                margin-top: 50px;
                margin-right: 200px;
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <button type="button" class="btn ">iphone</button>
        <button type="button" class="btn ">ipad</button>
        <button type="button" class="btn ">Mac</button>
    </div>
    <div class="main">
        <!-- <div><img src="" class="img"></div>
        <div class="">
            <div class="item">
                <span></span>
                <div calss="item-color">
                <Button class="color"><div class="main-color"></Button>
                <Button class="color"><div class="main-color"></Button>
                <Button class="color"><div class="main-color"></Button>
                </div>
                <span></span>
                <div calss="item-norm">
                <Button class="norm"></Button>
                <Button class="norm"></Button>
                <Button class="norm"></Button>
                </div>
                <span></span>
                <span></span>
            </div>
        </div> -->
    </div>
    <script>
        let appleData = [
            {
                name: 'iphone14', mode:
                    [{ id: 'A0001', color: 'blue', rgb: 'rgb(130, 195, 248)', Specification: '128GB', price: 'NT$27,900', pic: './iphone-14 blue.jpg' },
                    { id: 'A0002', color: 'blue', rgb: 'rgb(130, 195, 248)', Specification: '256GB', price: 'NT$31,400', pic: './iphone-14 blue.jpg' },
                    { id: 'A0003', color: 'blue', rgb: 'rgb(130, 195, 248)', Specification: '512GB', price: 'NT$38,400', pic: './iphone-14 blue.jpg' },
                    { id: 'A0004', color: 'purple', rgb: 'rgb(168, 76, 190)', Specification: '128GB', price: 'NT$27,900', pic: './iphone-14 purple.jpg' },
                    { id: 'A0005', color: 'purple', rgb: 'rgb(168, 76, 190)', Specification: '256GB', price: 'NT$31,400', pic: './iphone-14 purple.jpg' },
                    { id: 'A0006', color: 'purple', rgb: 'rgb(168, 76, 190)', Specification: '512GB', price: 'NT$38,400', pic: './iphone-14 purple.jpg' },
                    { id: 'A0007', color: 'black', rgb: 'rgb(0, 0, 0)', Specification: '128GB', price: 'NT$27,900', pic: './iphone-14 black.jpg' },
                    { id: 'A0008', color: 'black', rgb: 'rgb(0, 0, 0)', Specification: '256GB', price: 'NT$31,400', pic: './iphone-14 black.jpg' },
                    { id: 'A0009', color: 'black', rgb: 'rgb(0, 0, 0)', Specification: '512GB', price: 'NT$38,400', pic: './iphone-14 black.jpg' },
                    { id: 'A0010', color: 'white', rgb: 'rgb(255, 255, 255)', Specification: '128GB', price: 'NT$27,900', pic: './iphone-14 white.jpg' },
                    { id: 'A0011', color: 'white', rgb: 'rgb(255, 255, 255)', Specification: '256GB', price: 'NT$31,400', pic: './iphone-14 white.jpg' },
                    { id: 'A0012', color: 'white', rgb: 'rgb(255, 255, 255)', Specification: '512GB', price: 'NT$38,400', pic: './iphone-14 white.jpg' },
                    { id: 'A0013', color: 'red', rgb: 'rgb(255, 0, 0)', Specification: '128GB', price: 'NT$27,900', pic: './iphone-14 red.jpg' },
                    { id: 'A0014', color: 'red', rgb: 'rgb(255, 0, 0)', Specification: '256GB', price: 'NT$31,400', pic: './iphone-14 red.jpg' },
                    { id: 'A0015', color: 'red', rgb: 'rgb(255, 0, 0)', Specification: '512GB', price: 'NT$38,400', pic: './iphone-14 red.jpg' }]
            },

            {
                name: 'ipad', mode:
                    [{ id: 'A0001', color: 'blue', rgb: 'rgb(130, 195, 248)', Specification: '64GB', network: 'WI-FI', price: 'NT$14,900', pic: './ipad-blue.jpg' },
                    { id: 'A0002', color: 'blue', rgb: 'rgb(130, 195, 248)', Specification: '64GB', network: '5G', price: 'NT$19,900', pic: './ipad-blue.jpg' },
                    { id: 'A0003', color: 'blue', rgb: 'rgb(130, 195, 248)', Specification: '256GB', network: 'WI-FI', price: 'NT$19,900', pic: './ipad-blue.jpg' },
                    { id: 'A0004', color: 'blue', rgb: 'rgb(130, 195, 248)', Specification: '256GB', network: '5G', price: 'NT$24,900', pic: './ipad-blue.jpg' },
                    { id: 'A0005', color: 'pink', rgb: 'rgb(255, 192, 203)', Specification: '64GB', network: 'WI-FI', price: 'NT$14,900', pic: './ipad-pink.jpg' },
                    { id: 'A0006', color: 'pink', rgb: 'rgb(255, 192, 203)', Specification: '64GB', network: '5G', price: 'NT$19,900', pic: './ipad-pink.jpg' },
                    { id: 'A0007', color: 'pink', rgb: 'rgb(255, 192, 203)', Specification: '256GB', network: 'WI-FI', price: 'NT$19,900', pic: './ipad-pink.jpg' },
                    { id: 'A0008', color: 'pink', rgb: 'rgb(255, 192, 203)', Specification: '256GB', network: '5G', price: 'NT$24,900', pic: './ipad-pink.jpg' },
                    { id: 'A0009', color: 'silver', rgb: 'rgb(192, 192, 192)', Specification: '64GB', network: 'WI-FI', price: 'NT$14,900', pic: './ipad-silver.jpg' },
                    { id: 'A0010', color: 'silver', rgb: 'rgb(192, 192, 192)', Specification: '256GB', network: '5G', price: 'NT$19,900', pic: './ipad-silver.jpg' },
                    { id: 'A0011', color: 'silver', rgb: 'rgb(192, 192, 192)', Specification: '64GB', network: 'WI-FI', price: 'NT$19,900', pic: './ipad-silver.jpg' },
                    { id: 'A0012', color: 'silver', rgb: 'rgb(192, 192, 192)', Specification: '256GB', network: '5G', price: 'NT$24,900', pic: './ipad-silver.jpg' },
                    { id: 'A0013', color: 'yellow', rgb: 'rgb(255, 255, 0)', Specification: '64GB', network: 'WI-FI', price: 'NT$14,900', pic: './ipad-yellow.jpg' },
                    { id: 'A0014', color: 'yellow', rgb: 'rgb(255, 255, 0)', Specification: '256GB', network: '5G', price: 'NT$19,900', pic: './ipad-yellow.jpg' },
                    { id: 'A0015', color: 'yellow', rgb: 'rgb(255, 255, 0)', Specification: '64GB', network: 'WI-FI', price: 'NT$19,900', pic: './ipad-yellow.jpg' },
                    { id: 'A0016', color: 'yellow', rgb: 'rgb(255, 255, 0)', Specification: '256GB', network: '5G', price: 'NT$24,900', pic: './ipad-yellow.jpg' }]
            },


            {
                name: 'Mac-13', mode:
                    [{ id: 'A0001', color: 'spacegray', rgb: 'rgb(128, 128, 128)', Specification: '256GB', price: 'NT$39,900', pic: './mackbook-gray.jpg' },
                    { id: 'A0002', color: 'spacegray', rgb: 'rgb(128, 128, 128)', Specification: '512GB', price: 'NT$45,900', pic: './mackbook-gray.jpg' },
                    { id: 'A0003', color: 'spacegray', rgb: 'rgb(128, 128, 128)', Specification: '1TB', price: 'NT$51,900', pic: './mackbook-gray.jpg' },
                    { id: 'A0004', color: 'spacegray', rgb: 'rgb(128, 128, 128)', Specification: '2TB', price: 'NT$63,900', pic: './mackbook-gray.jpg' },
                    { id: 'A0005', color: 'silver', rgb: 'rgb(192, 192, 192)', Specification: '256GB', price: 'NT$39,900', pic: './macbook-silver.jpg' },
                    { id: 'A0006', color: 'silver', rgb: 'rgb(192, 192, 192)', Specification: '512GB', price: 'NT$45,900', pic: './macbook-silver.jpg' },
                    { id: 'A0007', color: 'silver', rgb: 'rgb(192, 192, 192)', Specification: '1TB', price: 'NT$51,900', pic: './macbook-silver.jpg' },
                    { id: 'A0008', color: 'silver', rgb: 'rgb(192, 192, 192)', Specification: '2TB', price: 'NT$63,900', pic: './macbook-silver.jpg' },]
            }
        ]
    </script>

    <script>
        let btn = document.querySelectorAll('.btn')
        let main = document.querySelector('.main')
        let picAll = ['./iphone-14-model-unselect-gallery-1-202209.jpg', './hero__ecv967jz1y82_large.jpg', './mackbook-gray.jpg']
        let specAll = ['顏色', '規格', '價格試算']

        btn.forEach((x, index) => {
            x.addEventListener('click', function () {
                document.querySelector('.main').innerHTML = '';
                let mainItem = document.createElement('div')
                let item = document.createElement('div')
                let itemTwo = document.createElement('div')
                let itemThree = document.createElement('div')
                let span = document.createElement('span')
                let spanOne = document.createElement('span')
                let spanTwo = document.createElement('span')
                let spanFour = document.createElement('span')


                let itemColor = document.createElement('div')
                let itemNorm = document.createElement('div')

                let itemImg = document.createElement('div')
                let img = document.createElement('img')
                let itemNormN = document.createElement('div')

                img.src = picAll[index]

                mainItem.classList.add('main-item,co1-12,col-xl-6')
                itemImg.classList.add('item-img,co1-12,col-xl-6')
                img.classList.add('img')
                itemTwo.classList.add('item-norm')
                itemNormN.classList.add('item-Norm-N')
                item.classList.add('item-color-c')
                itemColor.classList.add('item-color')

                spanFour.classList.add('total')
                main.append(item)
                main.append(itemImg)
                main.append(mainItem)

                mainItem.append(item)
                mainItem.append(itemNormN)
                itemNormN.append(itemTwo)

                mainItem.append(itemThree)
                itemImg.append(img)

                item.append(span)
                item.append(itemColor)


                itemTwo.append(spanOne)

                span.innerHTML = specAll[0]
                //顏色
                let colorAll = []
                let colorArray = []
                let colorSet = []
                let colorNumberSet = []
                //規格
                let strong = []
                let strongSet = []
                //價格
                let price1 = []
                //iphone用iphone的資料
                let apple = appleData[index].mode;

                apple.forEach(x => {
                    colorAll.push(x['color']);
                });

                apple.forEach(x => {
                    colorArray.push(x.rgb)
                })
                //重複的顏色去掉
                let set = new Set(colorAll);
                //重複的色號去掉
                let setTwo = new Set(colorArray)
                //顏色篩選完加入新陣列
                set.forEach(x => {
                    colorSet.push(x)
                })
                //色號篩選完加入新陣列
                setTwo.forEach(x => {
                    colorNumberSet.push(x)
                })
                console.log(colorSet)
                colorSet.forEach((x, index) => {
                    let mainColor = document.createElement('div')
                    mainColor.classList.add('main-color')
                    mainColor.style.backgroundColor = colorNumberSet[index]
                    let color = document.createElement('button')
                    let txtp = document.createElement('p')
                    txtp.classList.add('txtp')
                    color.classList.add('color')
                    itemColor.append(color)
                    color.append(mainColor)
                    txtp.append(x)
                    color.append(txtp)
                    console.log(txtp)
                })

                spanOne.innerHTML = `${specAll[1]}<br>`
                apple.forEach(x => {
                    strong.push(x.Specification)
                })
                let normSet = new Set(strong)

                normSet.forEach(x => {
                    strongSet.push(x)
                });


                apple.forEach(x => {
                    price1.push(x.price)
                });


                let mainprice = [];
                let priceSet = new Set(price1);
                priceSet.forEach(x => {
                    mainprice.push(x)
                });
                console.log(priceSet)
                console.log(mainprice)
                
                normSet.forEach((x, index) => {
                    let norm = document.createElement('button');
                    let  p = document.createElement('p');
                    //吃不到index
                    p.append(mainprice[1])
                    norm.classList.add('norm')
                    p.classList.add('price');
                    itemTwo.append(norm);
                    norm.append(x);
                    norm.append(p);
                    //p.append(mainprice[index])
                    console.log(mainprice[index])
                    console.log(x)

                });


                itemThree.classList.add('item-three')
                itemThree.append(spanTwo)
                spanTwo.innerHTML = `${specAll[2]}<br>`
                itemThree.append(spanFour)

                let total = document.querySelector('.total')
                let chosemoney = document.querySelectorAll('.norm')

                chosemoney.forEach(x => {
                    x.addEventListener('click', function () {
                        total.innerText = x.querySelector('.price').innerText;
                    })
                })

                let choseColor = document.querySelectorAll('.color')
                choseColor.forEach(x => {
                    x.addEventListener('click', function () {
                        let a = apple.find(y => y.color == x.querySelector('.txtp').innerText)['pic'];
                        img.src = a;

                    })
                })

            });
        });

    </script>
</body>

</html>